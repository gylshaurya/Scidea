{% extends 'base.html' %}

{% block title %}{{ post.title|truncatewords:8 }} - Scidea{% endblock %}

{% block head %}
    {% load static %}
    <link rel="stylesheet" href="{% static 'base.css' %}">
    <link rel="stylesheet" href="{% static 'post_detail.css' %}">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <script defer src="{% static 'js/post_detail.js' %}"></script>
{% endblock %}

{% block content %}
<div class="post-detail-container">

    <div class="post-header">
        <img src="{{ post.author.get_profile_picture }}" alt="{{ post.author.name|default:post.author.username }}" class="author-avatar">
        <div class="author-info">
            <h3 class="author-name">{{ post.author.name|default:post.author.username }}</h3>
            <p class="post-date">{{ post.created_at|date:"F j, Y" }}</p>
        </div>
    </div>

    {% if post.title %}
    <h1 class="post-title">{{ post.title }}</h1>
    {% endif %}

    <div class="post-tags">
        {% for tag in post.tags.all %}
            <span class="tag">{{ tag.name }}</span>
        {% endfor %}
    </div>

    <div class="post-body">
        {{ post.content|linebreaks }}
    </div>
    <div class="post-actions">
    {% csrf_token %}
<button class="upvote-button" data-post-id="{{ post.id }}">
    {% if upvoted %}
    <i class="bi bi-shift-fill"></i> {{ post.upvotes.count }}
    {% else %}
    <i class="bi bi-shift"></i> {{ post.upvotes.count }}
    {% endif %}
</button>
    <button><i class="bi bi-chat"></i> Comment</button>
    <button><i class="bi bi-bookmark"></i> Save</button>
</div>

</div>


{% endblock %}
