{% extends 'base.html' %}

{% block title %}Home{% endblock %}

{% block head %}
    {% load static %}
    <link rel="stylesheet" href="{% static 'base.css' %}">
    <link rel="stylesheet" href="{% static 'home.css' %}">
    <link rel="stylesheet" href="{% static 'post_card.css' %}">
<link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,431;1,431&family=Noto+Sans:ital,wght@0,100..900;1,100..900&family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
{% endblock %}

{% block content %}

<form id="csrf-form" style="display: none;">
  {% csrf_token %}
</form>


<div class="container" id="container">

    <!-- ðŸŒŸ Introduction Section -->
    <section class="intro">
        <h1>Discover, Share, Innovate</h1>
        <p>Scidea is your space to share groundbreaking ideas and connect with a like-minded community.</p>
        <a href="{% url 'custom_signup' %}" class="cta-button">Get Started</a>
    </section>

    <div class="landing-image"></div>

</div>

<div class="container2">

{% if not user.is_authenticated %}
<div id="scrollDown" class="scroll-down">
  <i class="bi bi-chevron-double-down"></i>
</div>
    {% endif %}

    <!--  -------------------------------------------------------------------------------------------------------- -->
    <!-- Horizontal scrollable tag bar -->
<div class="tag-scroll-container">
  <button id="scrollLeft" class="scroll-arrow hidden"><span class="material-symbols-outlined">chevron_left</span></button>
  <div id="tagScroller" class="tag-list">
    <a href="{% url 'home' %}" class="tag-box {% if not selected_tag_id and not request.GET.q %}active{% endif %}">Home</a>
    <a href="?q=popular" class="tag-box {% if request.GET.q == 'popular' %}active{% endif %}">Popular</a>
    {% for tag in tags %}
      <a href="?tag={{ tag.id }}" class="tag-box {% if selected_tag_id == tag.id|stringformat:'s' %}active{% endif %}">
        {{ tag.name }}
      </a>
    {% endfor %}
  </div>
  <button id="scrollRight" class="scroll-arrow"><span class="material-symbols-outlined">chevron_right</span></button>
</div>


<div class="post-feed">
  {% for post in posts %}
    {% include 'ideas/post_card.html' with post=post %}
  {% empty %}
    <p>Be the first one to write a post in this category !</p>
  {% endfor %}
</div>


</div>
<script>

    const isAuthenticated = {{ user.is_authenticated|yesno:"true,false" }};

    if (isAuthenticated) {
      document.getElementById("container").style.display = "none";
    } else {
      document.getElementById("container").style.display = "flex";
    }
</script>


<script src="{% static 'js/home.js' %}"></script>

{% endblock %}

